/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var APP;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _nn_neural_network__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./nn/neural_network */ \"./src/js/nn/neural_network.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/** App */\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    var _this = this;\n\n    _classCallCheck(this, App);\n\n    this.modules = {\n      neuralNetwork: new _nn_neural_network__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()\n    };\n    this.call('bind');\n    this.call('refresh');\n    window.addEventListener('resize', function () {\n      _this.call('refresh');\n    });\n  }\n\n  _createClass(App, [{\n    key: \"call\",\n    value: function call(func) {\n      for (var key in this.modules) {\n        if (typeof this.modules[key][func] === 'function') {\n          this.modules[key][func](this);\n        }\n      }\n    }\n  }]);\n\n  return App;\n}();\n\nwindow.addEventListener('load', function () {\n  var app = new App();\n});\n\n//# sourceURL=webpack://APP/./src/js/app.js?");

/***/ }),

/***/ "./src/js/maths/relu.js":
/*!******************************!*\
  !*** ./src/js/maths/relu.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ReLU\": () => (/* binding */ ReLU),\n/* harmony export */   \"ReLUDerivative\": () => (/* binding */ ReLUDerivative)\n/* harmony export */ });\n/** RELU activation function */\nvar ReLU = function ReLU(x) {\n  return Math.max(0, x);\n};\n\nvar ReLUDerivative = function ReLUDerivative(x) {\n  return x > 0 ? 1 : 0;\n};\n\n\n\n//# sourceURL=webpack://APP/./src/js/maths/relu.js?");

/***/ }),

/***/ "./src/js/maths/round.js":
/*!*******************************!*\
  !*** ./src/js/maths/round.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Round */\nvar Round = function Round(x, places) {\n  var d = Math.pow(10, places);\n  return Math.round(x * d) / d;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Round);\n\n//# sourceURL=webpack://APP/./src/js/maths/round.js?");

/***/ }),

/***/ "./src/js/maths/sigmoid.js":
/*!*********************************!*\
  !*** ./src/js/maths/sigmoid.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Sigmoid\": () => (/* binding */ Sigmoid),\n/* harmony export */   \"SigmoidDerivative\": () => (/* binding */ SigmoidDerivative)\n/* harmony export */ });\n/** Sigmoid activation function */\nvar Sigmoid = function Sigmoid(x) {\n  return 1 / (1 + Math.exp(-x));\n};\n\nvar SigmoidDerivative = function SigmoidDerivative(x) {\n  return x * (1 - x);\n};\n\n\n\n//# sourceURL=webpack://APP/./src/js/maths/sigmoid.js?");

/***/ }),

/***/ "./src/js/nn/activation.js":
/*!*********************************!*\
  !*** ./src/js/nn/activation.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _maths_sigmoid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../maths/sigmoid */ \"./src/js/maths/sigmoid.js\");\n/* harmony import */ var _maths_relu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../maths/relu */ \"./src/js/maths/relu.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** Activation functions */\n\n // import { Softmax, SoftmaxDerivative } from '../maths/softmax';\n\nvar Activation = /*#__PURE__*/function () {\n  function Activation() {\n    _classCallCheck(this, Activation);\n  }\n\n  _createClass(Activation, null, [{\n    key: \"getValue\",\n    value: // this.SOFTMAX = 'SOFTMAX';\n    function getValue(type, x) {\n      switch (type) {\n        case Activation.SIGMOID:\n          return (0,_maths_sigmoid__WEBPACK_IMPORTED_MODULE_0__.Sigmoid)(x);\n          break;\n\n        case Activation.RELU:\n          return (0,_maths_relu__WEBPACK_IMPORTED_MODULE_1__.ReLU)(x);\n          break;\n        //case this.SOFTMAX: return Softmax(x, arr); break;\n\n        default:\n          return x;\n          break;\n      }\n    }\n  }, {\n    key: \"getDerivative\",\n    value: function getDerivative(type, x) {\n      switch (type) {\n        case Activation.SIGMOID:\n          return (0,_maths_sigmoid__WEBPACK_IMPORTED_MODULE_0__.SigmoidDerivative)(x);\n          break;\n\n        case Activation.RELU:\n          return (0,_maths_relu__WEBPACK_IMPORTED_MODULE_1__.ReLUDerivative)(x);\n          break;\n        //case this.SOFTMAX: return SoftmaxDerivative(x, arr); break;\n\n        default:\n          return 0;\n          break;\n      }\n    }\n  }]);\n\n  return Activation;\n}();\n\n_defineProperty(Activation, \"SIGMOID\", 'SIGMOID');\n\n_defineProperty(Activation, \"RELU\", 'RELU');\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Activation);\n\n//# sourceURL=webpack://APP/./src/js/nn/activation.js?");

/***/ }),

/***/ "./src/js/nn/connection.js":
/*!*********************************!*\
  !*** ./src/js/nn/connection.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/element */ \"./src/js/util/element.js\");\n/* harmony import */ var _maths_round__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../maths/round */ \"./src/js/maths/round.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/** connection */\n\n\n\nvar Connection = /*#__PURE__*/function () {\n  function Connection(params) {\n    _classCallCheck(this, Connection);\n\n    this.params = params;\n    this.node = {\n      src: params.src || null,\n      dst: params.dst || null\n    };\n    this.weight = params.weight !== undefined ? params.weight : Math.random();\n    this.node.src.addOutgoingConnection(this);\n    this.node.dst.addIncomingConnection(this);\n    this.visible = this.node.src.visible && this.node.dst.visible;\n    this.render();\n  }\n\n  _createClass(Connection, [{\n    key: \"getWeight\",\n    value: function getWeight() {\n      return this.weight;\n    }\n  }, {\n    key: \"setWeight\",\n    value: function setWeight(weight) {\n      this.weight = weight;\n    }\n  }, {\n    key: \"getWeightedValue\",\n    value: function getWeightedValue() {\n      return this.weight * this.node.src.value;\n    }\n  }, {\n    key: \"getInput\",\n    value: function getInput() {\n      return this.node.src.value;\n    }\n  }, {\n    key: \"getWeightedError\",\n    value: function getWeightedError() {\n      return this.weight * this.node.dst.error;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.weight = this.params.weight !== undefined ? this.params.weight : Math.random();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.visible) return; // set connection position, rotation, size\n\n      var rect1 = this.node.src.el.getBoundingClientRect();\n      var rect2 = this.node.dst.el.getBoundingClientRect();\n      var radius = rect1.width / 2;\n      var dx = rect2.left - rect1.left;\n      var dy = rect2.top - rect1.top;\n      var dist = Math.hypot(dx, dy);\n      var theta = Math.atan2(dy, dx);\n      var deg = theta / Math.PI * 180;\n      this.el.style.width = \"\".concat(dist, \"px\");\n      this.el.style.transform = \"translate(0, -50%) rotate(\".concat(deg, \"deg)\");\n      this.ref.inner.style.width = \"\".concat(dist - radius * 2, \"px\");\n      this.ref.weight.style.transform = \"translate(-50%, -50%) rotate(\".concat(-deg, \"deg)\");\n      this.ref.weight.innerText = 'W=' + (0,_maths_round__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this.weight, 3);\n      this.ref.inner.style.borderWidth = \"\".concat(0.125 + this.weight * 10, \"px\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.visible) return;\n      this.el = (0,_util_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        class: 'connection',\n        children: [{\n          class: 'connection__inner'\n        }, {\n          class: 'connection__weight'\n        }]\n      }); // refs\n\n      this.ref = {};\n      this.ref.inner = this.el.querySelector('.connection__inner');\n      this.ref.weight = this.el.querySelector('.connection__weight'); // add to from connection\n\n      this.node.src.el.appendChild(this.el);\n    }\n  }]);\n\n  return Connection;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Connection);\n\n//# sourceURL=webpack://APP/./src/js/nn/connection.js?");

/***/ }),

/***/ "./src/js/nn/layer.js":
/*!****************************!*\
  !*** ./src/js/nn/layer.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _neuron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./neuron */ \"./src/js/nn/neuron.js\");\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connection */ \"./src/js/nn/connection.js\");\n/* harmony import */ var _util_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/element */ \"./src/js/util/element.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/** Layer */\n\n\n\n\nvar Layer = /*#__PURE__*/function () {\n  function Layer(params) {\n    _classCallCheck(this, Layer);\n\n    this.params = params;\n    this.neurons = [];\n    this.connections = [];\n    var size = params.size || 0;\n    var p = {};\n    if (params.bias !== undefined) p.bias = params.bias;\n    if (params.activation !== undefined) p.activation = params.activation;\n\n    for (var i = 0; i < size; i++) {\n      this.neurons.push(new _neuron__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_objectSpread({\n        index: i\n      }, p)));\n    }\n\n    this.render();\n  }\n\n  _createClass(Layer, [{\n    key: \"setValues\",\n    value: function setValues(values) {\n      var _this = this;\n\n      values.forEach(function (v, i) {\n        _this.neurons[i].setValue(v);\n      });\n    }\n  }, {\n    key: \"connect\",\n    value: function connect(layer) {\n      var _this2 = this;\n\n      this.neurons.forEach(function (src) {\n        layer.neurons.forEach(function (dst) {\n          var conn = new _connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            src: src,\n            dst: dst\n          });\n\n          _this2.connections.push(conn);\n        });\n      });\n    }\n  }, {\n    key: \"forward\",\n    value: function forward() {\n      this.neurons.forEach(function (neuron) {\n        return neuron.calculateWeightedInput();\n      });\n      this.neurons.forEach(function (neuron) {\n        return neuron.activate();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.connections.forEach(function (conn) {\n        return conn.reset();\n      });\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.neurons.forEach(function (neuron) {\n        return neuron.refresh();\n      });\n      this.connections.forEach(function (conn) {\n        return conn.refresh();\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {};\n      json.size = this.neurons.length;\n      if (this.params.bias !== undefined) json.bias = this.params.bias;\n      if (this.params.activation !== undefined) json.activation = this.params.activation;\n      json.weights = [];\n      this.neurons.forEach(function (neuron) {\n        if (neuron.connections.out.length) {\n          json.weights.push(neuron.connections.out.map(function (conn) {\n            return conn.getWeight();\n          }));\n        }\n      });\n      return json;\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(json) {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var neuronElements = this.neurons.map(function (neuron) {\n        return neuron.visible ? neuron.el : null;\n      }).filter(function (x) {\n        return x !== null;\n      });\n      this.el = (0,_util_element__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        class: 'layer',\n        children: [{\n          class: 'layer__header',\n          children: [{\n            innerText: \"(\".concat(this.params.size, \")\")\n          }]\n        }, {\n          class: 'layer__neurons',\n          children: neuronElements\n        }, {\n          class: 'layer__footer'\n        }]\n      });\n\n      if (this.params.bias !== undefined) {\n        this.el.querySelector('.layer__footer').appendChild((0,_util_element__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n          innerText: \"BIAS(\".concat(this.params.bias, \")\")\n        }));\n      }\n\n      if (this.params.activation !== undefined) {\n        this.el.querySelector('.layer__footer').appendChild((0,_util_element__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n          innerText: \"Z(\".concat(this.params.activation, \")\")\n        }));\n      }\n    }\n  }]);\n\n  return Layer;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layer);\n\n//# sourceURL=webpack://APP/./src/js/nn/layer.js?");

/***/ }),

/***/ "./src/js/nn/neural_network.js":
/*!*************************************!*\
  !*** ./src/js/nn/neural_network.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layer */ \"./src/js/nn/layer.js\");\n/* harmony import */ var _activation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activation */ \"./src/js/nn/activation.js\");\n/* harmony import */ var _util_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/element */ \"./src/js/util/element.js\");\n/* harmony import */ var _maths_round__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../maths/round */ \"./src/js/maths/round.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/** Neural network */\n\n\n\n\n\nvar NeuralNetwork = /*#__PURE__*/function () {\n  function NeuralNetwork() {\n    var _this = this;\n\n    _classCallCheck(this, NeuralNetwork);\n\n    this.data = [{\n      input: [1, 0, 1],\n      target: [1, 0, 0, 0]\n    }];\n    this.state = {\n      learningRate: 0.125,\n      layers: [{\n        size: this.data[0].input.length,\n        values: this.data.input\n      }, {\n        size: 4,\n        bias: 1,\n        activation: _activation__WEBPACK_IMPORTED_MODULE_1__[\"default\"].SIGMOID\n      }, {\n        size: 3,\n        bias: 1,\n        activation: _activation__WEBPACK_IMPORTED_MODULE_1__[\"default\"].SIGMOID\n      }, {\n        size: 7,\n        bias: 1,\n        activation: _activation__WEBPACK_IMPORTED_MODULE_1__[\"default\"].SIGMOID\n      }, // { size: 8, bias: 1, activation: Activation.SIGMOID },\n      {\n        size: this.data[0].target.length,\n        activation: _activation__WEBPACK_IMPORTED_MODULE_1__[\"default\"].SIGMOID\n      }]\n    };\n    this.stats = {\n      cycles: 0,\n      epochs: 0,\n      error: 0\n    }; // create layers\n\n    this.layers = this.state.layers.map(function (p) {\n      return new _layer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](p);\n    });\n\n    for (var i = 0; i < this.layers.length; i++) {\n      if (i + 1 < this.layers.length) {\n        this.layers[i].connect(this.layers[i + 1]);\n      }\n    } // layer refs\n\n\n    this.inputLayer = this.layers[0];\n    this.inputLayer.setValues(this.data[0].input);\n    this.hiddenLayers = this.layers.filter(function (layer, i) {\n      return i !== 0 && i !== _this.layers.length - 1;\n    });\n    this.outputLayer = this.layers[this.layers.length - 1];\n    this.render(); // set initial\n\n    this.reset();\n  }\n\n  _createClass(NeuralNetwork, [{\n    key: \"setInput\",\n    value: function setInput(input) {\n      this.layers[0].set(input);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward() {\n      this.layers.forEach(function (layer) {\n        return layer.forward();\n      });\n    }\n  }, {\n    key: \"backpropagate\",\n    value: function backpropagate() {\n      var _this2 = this;\n\n      // backpropagate output\n      this.outputLayer.neurons.forEach(function (neuron, i) {\n        neuron.calculateError(_this2.data[0].target[i]);\n      }); // backpropagate hidden layers\n\n      for (var i = this.hiddenLayers.length - 1; i >= 0; i--) {\n        this.hiddenLayers[i].neurons.forEach(function (neuron) {\n          return neuron.calculateError();\n        });\n      } // set new weights\n\n\n      this.layers.forEach(function (layer) {\n        layer.neurons.forEach(function (neuron) {\n          return neuron.backpropagate(_this2.state.learningRate);\n        });\n      });\n    }\n  }, {\n    key: \"cycle\",\n    value: function cycle() {\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      for (var i = 0; i < n; i++) {\n        this.forward();\n        this.backpropagate();\n      }\n\n      this.stats.cycles += n;\n      this.calculateTotalError();\n    }\n  }, {\n    key: \"calculateTotalError\",\n    value: function calculateTotalError() {\n      var _this3 = this;\n\n      var total = 0;\n      this.outputLayer.neurons.forEach(function (neuron, i) {\n        total += Math.abs(_this3.data[0].target[i] - neuron.value);\n      });\n      this.stats.error = (0,_maths_round__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(total, 5);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.layers.forEach(function (layer) {\n        return layer.reset();\n      });\n      this.stats.cycles = 0;\n      this.forward();\n      this.calculateTotalError();\n      this.refresh();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.layers.forEach(function (layer) {\n        return layer.refresh();\n      });\n      this.ref.learningRate.innerText = this.state.learningRate;\n      this.ref.statCycles.innerText = this.stats.cycles;\n      this.ref.statEpochs.innerText = this.stats.epochs;\n      this.ref.statTime.innerText = this.stats.time;\n      this.ref.statError.innerText = this.stats.error;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {\n        layers: this.layers.map(function (layer) {\n          return layer.toJSON();\n        })\n      };\n      return json;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      this.el = (0,_util_element__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        class: 'neural-network',\n        children: [{\n          class: 'neural-network__layers',\n          children: this.layers.map(function (layer) {\n            return layer.el;\n          })\n        }, {\n          class: 'neural-network__stats',\n          children: [{\n            class: 'neural-network__stat',\n            innerHTML: 'Cycles: <span data-stat=\"cycles\"></span>'\n          }, {\n            class: 'neural-network__stat',\n            innerHTML: 'Epochs: <span data-stat=\"epochs\"></span>'\n          }, {\n            class: 'neural-network__stat',\n            innerHTML: 'Learning Rate: <span data-stat=\"learning-rate\"></span>'\n          }, {\n            class: 'neural-network__stat',\n            innerHTML: 'Exec. time: <span data-stat=\"time\"></span>'\n          }, {\n            class: 'neural-network__stat',\n            innerHTML: 'Error: <span data-stat=\"error\"></span>'\n          }]\n        }, {\n          class: 'neural-network__controls',\n          children: [{\n            class: 'neural-network__control',\n            innerText: 'RESET',\n            addEventListener: {\n              click: function click() {\n                _this4.reset();\n\n                _this4.refresh();\n              }\n            }\n          }, {\n            class: 'neural-network__control',\n            innerText: 'FORWARD',\n            addEventListener: {\n              click: function click() {\n                _this4.forward();\n\n                _this4.refresh();\n              }\n            }\n          }, {\n            class: 'neural-network__control',\n            innerText: 'CYCLE',\n            addEventListener: {\n              click: function click() {\n                _this4.cycle(1);\n\n                _this4.refresh();\n              }\n            }\n          }, {\n            class: 'neural-network__control',\n            innerText: 'x100',\n            addEventListener: {\n              click: function click() {\n                _this4.cycle(100);\n\n                _this4.refresh();\n              }\n            }\n          }, {\n            class: 'neural-network__control',\n            innerText: '>>',\n            addEventListener: {\n              click: function click() {\n                if (_this4.looping) {\n                  _this4.looping = false;\n                } else {\n                  _this4.looping = true;\n\n                  var callback = function callback() {\n                    return new Promise(function (resolve, reject) {\n                      var now = performance.now();\n\n                      _this4.cycle(1);\n\n                      _this4.stats.time = \"\".concat((0,_maths_round__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(performance.now() - now, 3), \"ms\");\n\n                      _this4.refresh();\n\n                      resolve();\n                    });\n                  };\n\n                  var loop = function loop() {\n                    callback().then(function () {\n                      if (_this4.looping) {\n                        setTimeout(function () {\n                          return loop();\n                        }, 10);\n                      }\n                    });\n                  };\n\n                  loop();\n                }\n              }\n            }\n          }, {\n            class: 'neural-network__control',\n            innerText: 'MANIFEST {}',\n            addEventListener: {\n              click: function click() {\n                var json = _this4.toJSON();\n\n                console.log(json);\n              }\n            }\n          }]\n        }]\n      }); // refs\n\n      this.ref = {};\n      this.ref.learningRate = this.el.querySelector('[data-stat=\"learning-rate\"]');\n      this.ref.statCycles = this.el.querySelector('[data-stat=\"cycles\"]');\n      this.ref.statEpochs = this.el.querySelector('[data-stat=\"epochs\"]');\n      this.ref.statError = this.el.querySelector('[data-stat=\"error\"]');\n      this.ref.statTime = this.el.querySelector('[data-stat=\"time\"]'); // add to doc\n\n      document.querySelector('body').appendChild(this.el);\n    }\n  }]);\n\n  return NeuralNetwork;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NeuralNetwork);\n\n//# sourceURL=webpack://APP/./src/js/nn/neural_network.js?");

/***/ }),

/***/ "./src/js/nn/neuron.js":
/*!*****************************!*\
  !*** ./src/js/nn/neuron.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _activation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./activation */ \"./src/js/nn/activation.js\");\n/* harmony import */ var _util_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/element */ \"./src/js/util/element.js\");\n/* harmony import */ var _maths_round__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../maths/round */ \"./src/js/maths/round.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/** Neuron */\n\n\n\nvar MAX_VISIBLE_NEURONS_PER_LAYER = 10;\n\nvar Neuron = /*#__PURE__*/function () {\n  function Neuron(params) {\n    _classCallCheck(this, Neuron);\n\n    this.params = params;\n    this.error = 0;\n    this.weightedInput = 0;\n    this.value = 0;\n    this.index = params.index;\n    this.bias = params.bias !== undefined ? params.bias : 0;\n    this.activation = params.activation || null;\n    this.connections = {\n      in: [],\n      out: []\n    };\n    this.visible = this.index < MAX_VISIBLE_NEURONS_PER_LAYER;\n    this.render();\n  }\n\n  _createClass(Neuron, [{\n    key: \"getValue\",\n    value: function getValue() {\n      return this.value;\n    }\n  }, {\n    key: \"getWeightedInput\",\n    value: function getWeightedInput() {\n      return this.weightedInput;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      this.value = value;\n    }\n  }, {\n    key: \"setError\",\n    value: function setError(error) {\n      this.error = error;\n    }\n  }, {\n    key: \"setBias\",\n    value: function setBias(bias) {\n      this.bias = bias;\n    }\n  }, {\n    key: \"addOutgoingConnection\",\n    value: function addOutgoingConnection(conn) {\n      this.connections.out.push(conn);\n    }\n  }, {\n    key: \"addIncomingConnection\",\n    value: function addIncomingConnection(conn) {\n      this.connections.in.push(conn);\n    }\n  }, {\n    key: \"calculateError\",\n    value: function calculateError() {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      // output layer\n      if (this.connections.out.length == 0) {\n        this.error = (this.value - target) * _activation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDerivative(this.activation, this.value); // hidden layers\n      } else if (this.connections.in.length > 0) {\n        var error = 0;\n        this.connections.out.forEach(function (conn) {\n          error += conn.getWeightedError();\n        });\n        this.error = error * _activation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDerivative(this.activation, this.value);\n      }\n    }\n  }, {\n    key: \"backpropagate\",\n    value: function backpropagate() {\n      var _this = this;\n\n      var learningRate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.25;\n\n      if (this.connections.in.length == 0) {\n        return;\n      }\n\n      this.connections.in.forEach(function (conn) {\n        conn.setWeight(conn.weight - learningRate * _this.error * conn.getInput());\n      });\n    }\n  }, {\n    key: \"calculateWeightedInput\",\n    value: function calculateWeightedInput() {\n      var _this2 = this;\n\n      if (!this.connections.in.length) return;\n      this.weightedInput = this.bias;\n      this.connections.in.forEach(function (conn) {\n        _this2.weightedInput += conn.getWeightedValue();\n      });\n    }\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      if (!this.connections.in.length) return;\n      this.value = _activation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getValue(this.activation, this.weightedInput);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.visible) return;\n      this.ref.value.innerText = (0,_maths_round__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.value, 3);\n      this.ref.error.innerText = this.error == 0 ? '' : (0,_maths_round__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.error, 5);\n\n      if (!this.connections.in.length) {\n        this.ref.in.classList.add('active');\n        this.ref.in.innerText = (0,_maths_round__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.value, 3);\n      }\n\n      if (!this.connections.out.length) {\n        this.ref.out.classList.add('active');\n        this.ref.out.innerText = Math.round(this.value);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.visible) return;\n      this.el = (0,_util_element__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        class: 'neuron',\n        children: [{\n          class: 'neuron__value'\n        }, {\n          class: 'neuron__error'\n        }, {\n          class: 'neuron__in'\n        }, {\n          class: 'neuron__out'\n        }],\n        addEventListener: {\n          click: function click() {\n            return _this3.el.classList.toggle('selected');\n          }\n        }\n      });\n      this.ref = {};\n      this.ref.value = this.el.querySelector('.neuron__value');\n      this.ref.error = this.el.querySelector('.neuron__error');\n      this.ref.in = this.el.querySelector('.neuron__in');\n      this.ref.out = this.el.querySelector('.neuron__out');\n    }\n  }]);\n\n  return Neuron;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neuron);\n\n//# sourceURL=webpack://APP/./src/js/nn/neuron.js?");

/***/ }),

/***/ "./src/js/util/element.js":
/*!********************************!*\
  !*** ./src/js/util/element.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Element */\nvar Element = function Element(prop) {\n  if (prop instanceof HTMLElement) {\n    return prop;\n  }\n\n  var e = document.createElement(prop.type || 'div');\n\n  for (var key in prop) {\n    var value = prop[key];\n\n    switch (key) {\n      case 'class':\n        value.split(' ').forEach(function (c) {\n          return e.classList.add(c);\n        });\n        break;\n\n      case 'eventListener':\n      case 'addEventListener':\n        for (var k in value) {\n          e.addEventListener(k, value[k]);\n        }\n\n        break;\n\n      case 'children':\n      case 'childNodes':\n        if (Array.isArray(value)) value.forEach(function (child) {\n          return e.appendChild(Element(child));\n        });else e.appendChild(Element(value));\n        break;\n\n      case 'attribute':\n        for (var _k in value) {\n          e.setAttribute(_k, value[_k]);\n        }\n\n        break;\n\n      case 'dataset':\n        for (var _k2 in value) {\n          e.dataset[_k2] = value[_k2];\n        }\n\n        break;\n\n      case 'style':\n        for (var _k3 in value) {\n          e.style[_k3] = value[_k3];\n        }\n\n      case 'type':\n        break;\n\n      default:\n        e[key] = value;\n    }\n  }\n\n  return e;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Element);\n\n//# sourceURL=webpack://APP/./src/js/util/element.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	APP = __webpack_exports__;
/******/ 	
/******/ })()
;